# AI智能题目流式提取功能使用指南

## 功能概述

本系统提供了三种AI题目提取方式：

1. **实时流式提取** - 每提取到一个题目就立即显示（推荐）
2. **分段智能提取** - 分段处理长文本，支持继续解析
3. **直接提取并添加** - 一次性提取并添加到题库

## 使用步骤

### 1. 准备题目内容

将包含题目和答案的文本复制到输入框中。支持的格式：

```
1. 以下哪个是Java的关键字？
A. class
B. Class
C. CLASS
D. clazz
答案：A

2. Java是面向对象的编程语言吗？
答案：是

3. 判断：Java中的String是可变的。
答案：错误
```

### 2. 选择题库

在下拉菜单中选择要添加题目的目标题库。

### 3. 开始提取

#### 实时流式提取（推荐）
- 点击"实时流式提取"按钮
- AI会分段处理内容，每提取到一个题目就立即显示
- 可以实时观看提取进度
- 提取完成后可以删除不需要的题目
- 点击"添加所有题目到题库"完成导入

#### 分段智能提取
- 点击"分段智能提取"按钮
- AI会分段处理内容
- 如果内容很长，会显示"继续解析"按钮
- 可以逐步处理完所有内容

#### 直接提取并添加
- 点击"直接提取并添加到题库"按钮
- 一次性完成提取和添加操作

## 功能特点

### 实时流式显示
- ✅ 每提取到一个题目就立即显示
- ✅ 实时进度条显示处理进度
- ✅ 动画效果，新题目滑入显示
- ✅ 自动滚动到最新题目

### 智能题目识别
- ✅ 自动识别题目类型（单选、多选、判断、问答、填空）
- ✅ 自动提取选项和答案
- ✅ 支持题目解析提取
- ✅ 智能分割长文本

### 容错处理
- ✅ 网络超时自动重试
- ✅ JSON解析错误自动修复
- ✅ 部分内容提取失败不影响其他题目

## 测试内容

可以使用项目中的 `REALTIME_STREAM_TEST_CONTENT.md` 文件中的测试内容来体验流式提取功能。

## 注意事项

1. **内容格式**：确保题目格式规范，包含题目、选项（如有）和答案
2. **内容长度**：支持最多50000字符，建议单次不超过20000字符
3. **网络环境**：确保网络连接稳定，AI服务需要网络访问
4. **浏览器支持**：建议使用现代浏览器，支持Server-Sent Events (SSE)

## 故障排除

### 实时流式提取无响应
1. 检查浏览器控制台是否有错误信息
2. 确认网络连接正常
3. 尝试使用分段智能提取作为备选方案

### 分段解析没有"继续解析"按钮
1. 确认内容长度超过4000字符
2. 检查第一次解析是否成功完成
3. 查看控制台日志确认hasMore状态

### 题目提取不准确
1. 检查输入内容格式是否规范
2. 确保题目、选项、答案格式清晰
3. 尝试调整内容格式后重新提取

## 技术实现

- **后端**：Spring Boot + SSE (Server-Sent Events)
- **前端**：Vue 3 + Element Plus + EventSource
- **AI服务**：Gemini API
- **数据库**：MySQL + MyBatis-Plus 